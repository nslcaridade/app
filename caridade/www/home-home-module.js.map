{"version":3,"sources":["webpack:///./src/app/home/home.module.ts","webpack:///./src/app/home/home.page.html","webpack:///./src/app/home/home.page.scss","webpack:///./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","module.exports = \"\\n<ion-content class=\\\"content-page content-gradient\\\" scrollX=\\\"true\\\" scrollY=\\\"true\\\">\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RegisterService } from '../services/api/register.service';\nimport { Util } from '../commons/util';\nimport { LoadingController, AlertController } from '@ionic/angular';\nimport { DatabaseService } from \"../services/database/database.service\"\nimport { InstitutionService } from '../services/api/institution.service';\nimport { BazarService } from '../services/api/bazar.service'\nimport { MenuService } from '../services/api/menu.service';\nimport { timingSafeEqual } from 'crypto';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  allInstitutions: any;\n  allBazares: any;\n  customTextMenu: any;\n\n  ngOnInit() {\n    this.localizaUsuario();\n  }\n\n  ionViewWillEnter(){\n    this.localizaUsuario();\n  }\n  \n  constructor(\n    private router: Router,\n    public alertController: AlertController,\n    public registerAPI: RegisterService,\n    public dataBase :DatabaseService,\n    public institutionAPI :InstitutionService,\n    public bazarAPI :BazarService,\n    public loadingController: LoadingController,\n    public menuAPI :MenuService,\n    public util: Util) {\n      \n  }\n  \n  localizaUsuario(){\n    this.dataBase.getValue('NSL')\n    .then(\n        data => {\n        if ( data !== null ){\n          this.localizaInstituicao();\n          this.bazarList();\n          this.getMenuText();\n          //this.presentLoading();\n          this.router.navigate(['menu'] );\n        } else {\n          this.router.navigate(['start'] );\n        }\n    });\n  }\n\n  localizaInstituicao(){\n    this.institutionAPI.getAllInstitutions()\n      .subscribe( (instit: any) => {\n        this.allInstitutions = JSON.parse(JSON.stringify(instit.listaInstituicao));\n        this.dataBase.setKeyValue('INST',this.allInstitutions);\n      }, err => {\n\n      });\n  }\n\n  bazarList(): void {\n    this.bazarAPI.getAllBazares()\n      .subscribe( (bazar: any) => {\n        this.allBazares = JSON.parse(JSON.stringify(bazar.ltBazar));\n        this.dataBase.setKeyValue('BAZ',this.allBazares);\n      }, err => {\n      });\n    }\n\n  getMenuText(): void {\n\n      this.menuAPI.getMsg()\n        .subscribe( (data: any) => {\n          this.customTextMenu = JSON.parse(JSON.stringify(data.mensagem));\n          this.dataBase.removeKey('MSG');\n          this.dataBase.setKeyValue('MSG',data.mensagem);\n        }, err => {\n  \n        });\n    }\n\n    \n\n\n    async presentLoading() {\n      const loading = await this.loadingController.create({\n        message: 'Aguarde...',\n        duration: 5000\n      });\n      await loading.present();\n  \n      const { role, data } = await loading.onDidDismiss();\n  \n      console.log('Loading dismissed!');\n    }\n\n  \n}\n\n"],"sourceRoot":""}