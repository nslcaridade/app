{"version":3,"sources":["webpack:///./src/app/menu/institution/institution.module.ts","webpack:///./src/app/menu/institution/institution.page.html","webpack:///./src/app/menu/institution/institution.page.scss","webpack:///./src/app/menu/institution/institution.page.ts"],"names":[],"mappings":"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","file":"menu-institution-institution-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { InstitutionPage } from './institution.page';\nimport { InstitutionService } from '../../services/api/institution.service';\nimport { RegisterService } from '../../services/api/register.service';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InstitutionPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [InstitutionPage],\n  providers: [\n    InstitutionService,\n    RegisterService\n  ]\n})\nexport class InstitutionPageModule {}\n","module.exports = \"<ion-content class=\\\"content-page content-gradient\\\" scrollX=\\\"true\\\" scrollY=\\\"true\\\">\\n<!--<ion-content padding class=InstitutionPage scroll=”false”>-->\\n  <div padding id=\\\"institution-layer\\\">\\n    <form [formGroup]=\\\"institutionForm\\\" (ngSubmit)=\\\"logForm()\\\" autocomplete=”off” >\\n      <ion-list lines=\\\"full\\\">\\n        <ion-item *ngFor=\\\"let institution of allInstitutions\\\">\\n          <ion-button class=\\\"footer-button\\\" color=\\\"white\\\" expand=\\\"full\\\" (click)=\\\"showDetalhe(institution.nome, institution.descricao, institution.endereco, institution.telefone)\\\">\\n          <h5>{{ institution.nome }}</h5></ion-button>\\n        </ion-item>\\n      </ion-list>\\n      <ion-row align-items-center>\\n        <ion-col>\\n          <ion-button expand=\\\"block\\\" class=\\\"cta low\\\" color=\\\"white\\\" type=\\\"submit\\\" >Volta</ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </form>\\n  </div>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lbnUvaW5zdGl0dXRpb24vaW5zdGl0dXRpb24ucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormControl, FormGroup, FormGroupDirective, FormBuilder, NgForm, Validators } from '@angular/forms';\nimport { InstitutionService } from '../../services/api/institution.service';\nimport { RegisterService } from '../../services/api/register.service';\nimport { DatabaseService } from \"../../services/database/database.service\";\nimport { headersToString } from 'selenium-webdriver/http';\nimport { Local } from 'protractor/built/driverProviders';\n\n@Component({\n  selector: 'app-institution',\n  templateUrl: './institution.page.html',\n  styleUrls: ['./institution.page.scss'],\n})\nexport class InstitutionPage implements OnInit {\n\n  id: number;\n  nome: string;\n  telefone: string;\n  endereco: string;\n  dataFundacao: string;\n  paroquea: string;\n  telefoneParoquea: string;\n  ativo: boolean;\n  descricao: string;\n\n  private sub: any;\n  image: string;\n  customActionSheetOptions: any;\n\n\n\n  public allInstitutions: any;\n\n  institutionForm: FormGroup;\n\n  constructor(\n    public alertController: AlertController,\n    public router: Router,\n    public route: ActivatedRoute,\n    private formBuilder: FormBuilder,\n    public InstitutionAPI: InstitutionService,\n    public dataBase :DatabaseService,\n    public registerAPI: RegisterService) {\n\n      console.log('Passo 1');\n      this.image = \"./../../../assets/img/piggy-bank.svg\";\n\n      this.customActionSheetOptions = {\n        header: 'Instituições Parceiras',\n        subHeader: 'Selecione a sua principal',\n      };\n\n      // API GET\n      this.carregaMemoria();\n      //this.institutionList();\n\n      this.institutionForm = this.formBuilder.group({\n        opt_institution : ['', Validators.compose([Validators.required]) ]\n      });\n      //this.institutionForm.valueChanges.subscribe(data=>this.institutionOnDataChange(data));\n  }\n\n  ngOnInit() {\n\n  }\n\n  institutionOnDataChange(data: any): void {\n     console.log(data);\n  }\n\n  carregaMemoria(){\n\n    console.log(\"localizando no store\");\n    this.dataBase.getValue('INST').then(\n      data => {\n      if ( data !== null ){\n       this.allInstitutions = JSON.parse(JSON.stringify(data));\n      }});\n    }\n\n  institutionList(): void {\n    this.InstitutionAPI.getAllInstitutions()    \n      .subscribe( (instit: any) => {\n        console.log(\"antes do getinst\");\n        this.allInstitutions = JSON.parse(JSON.stringify(instit.listaInstituicao));\n        console.log(\"pos do getinst\");\n        console.log(\"localizando no store\");\n        this.dataBase.removeKey('INST');\n        this.dataBase.setKeyValue('INST',this.allInstitutions);\n        console.log(instit.listaInstituicao);\n      }, err => {\n        \n      });\n  }\n\n  logForm(){\n    this.backMenu();\n  }\n\n  saveData() {\n    this.registerAPI.updateUserInstitution(this.id, this.getNome())\n      .subscribe(res => {\n        // this.response = res;\n        console.log(res);\n        if ( parseInt(res.codigo) === 0 ) {\n            // TODO: Ir para TELA DE STATUS\n            this.router.navigate(['menu']);\n        } else {\n          this.showAlert('Atenção', res.mensagem.texto);\n        }\n\n      }, err => {\n        console.log(err);\n        this.router.navigate(['']);\n      });\n  }\n\n  backMenu(){\n    this.router.navigate(['menu']);\n  }\n\n  showAlert(header, message) {\n      const alert: any = this.alertController.create({\n          header: header,\n          message: message,\n          buttons: ['OK']\n      });\n\n      alert.then((_alert: any)=> {\n          _alert.present();\n      })\n  }\n\n  showDetalhe(nome, descricao, endereco, telefone) {\n    this.router.navigate(['detalhe-instituicao', \n                         {nome: nome,\n                          descricao: descricao,\n                          endereco: endereco,\n                          telefone: telefone}] );\n  }\n\n  async presentAlertConfirm(header, message) {\n    const alert = await this.alertController.create({\n      header: header,\n      message: message,\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Cancela, editar o banco ', blah);\n          }\n        }, {\n          text: 'Ok',\n          handler: () => {\n            console.log('Confirmou o banco');\n            this.saveData();\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  public getId(){\n    return this.id;\n  }\n\n  public setId(code){\n    this.id = code;\n  }\n\n  public getNome(){\n    return this.nome;\n  }\n\n  public setNome(nome){\n    this.nome = 'nome';\n  }\n\n  public getTelefone(){\n    return this.telefone;\n  }\n\n  public setTelefone(telefone){\n    this.telefone = telefone;\n  }\n\n  public getEndereco(){\n    return this.endereco;\n  }\n\n  public setEndereco(endereco){\n    this.endereco = endereco;\n  }\n\n  public getDataFundacao(){\n    return this.dataFundacao;\n  }\n\n  public setDataFundacao(dataFundacao){\n    this.dataFundacao = dataFundacao;\n  }\n\n  public getParoquea(){\n    return this.paroquea;\n  }\n\n  public setParoquea(paroquea){\n    this.paroquea = paroquea;\n  }\n\n  public getTelefoneParoquea(){\n    return this.telefoneParoquea;\n  }\n\n  public setTelefoneParoquea(telefoneParoquea){\n    this.telefoneParoquea = telefoneParoquea;\n  }\n\n  public getAtivo(){\n    return this.ativo;\n  }\n\n  public setAtivo(ativo){\n    this.ativo = ativo;\n  }\n\n  public getDescricao(){\n    return this.descricao;\n  }\n\n  public setDescricao(descricao){\n    this.descricao = descricao;\n  }\n\n}\n"],"sourceRoot":""}